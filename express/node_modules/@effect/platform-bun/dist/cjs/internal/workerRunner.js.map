{"version":3,"file":"workerRunner.js","names":["_WorkerError","require","Runner","_interopRequireWildcard","Cause","Context","Deferred","Effect","Exit","FiberSet","Layer","Runtime","Scope","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","platformRunnerImpl","PlatformRunner","of","PlatformRunnerTypeId","start","fnUntraced","closeLatch","self","WorkerError","reason","cause","Error","port","run","handler","scope","runtime","pipe","interruptible","updateContext","omit","fiberSet","make","runFork","onExit","exit","_tag","isInterruptedOnly","unsafeDone","die","squash","onMessage","event","message","data","result","isEffect","fiber","addObserver","unsafeAdd","close","void","onMessageError","error","onError","addFinalizer","sync","removeEventListener","addEventListener","postMessage","send","_portId","transfer","layer","exports","succeed"],"sources":["../../../src/internal/workerRunner.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}