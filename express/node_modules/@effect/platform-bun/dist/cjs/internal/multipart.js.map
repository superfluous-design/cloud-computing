{"version":3,"file":"multipart.js","names":["Multipart","_interopRequireWildcard","require","Effect","_Function","Inspectable","Stream","_multipasta","MP","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","stream","source","pipe","makeConfig","map","config","parser","make","headers","fromReadableStream","body","pipeThrough","cause","convertError","unwrap","convertPart","exports","persisted","toPersisted","path","file","tryPromise","try","fileImpl","writer","Bun","reader","readable","getReader","done","value","readMany","chunk","write","flush","cancel","end","catch","MultipartError","reason","part","_tag","FieldImpl","info","FileImpl","PartBase","Class","TypeId","constructor","key","contentType","name","decodeField","toJSON","_id","content","filename","limit"],"sources":["../../../src/internal/multipart.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}