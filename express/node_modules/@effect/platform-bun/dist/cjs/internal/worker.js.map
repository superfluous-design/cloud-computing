{"version":3,"file":"worker.js","names":["Worker","_interopRequireWildcard","require","_WorkerError","Deferred","Effect","Exit","Layer","Scope","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","platformWorkerImpl","makePlatform","setup","scope","worker","flatMap","make","closeDeferred","addEventListener","unsafeDone","void","as","addFinalizer","suspend","postMessage","await","pipe","interruptible","timeout","catchAllCause","sync","terminate","listen","deferred","emit","port","onMessage","event","data","onError","WorkerError","reason","cause","error","message","removeEventListener","layerWorker","exports","succeed","PlatformWorker","layerManager","provide","layer","spawn","merge","layerSpawner","layerPlatform"],"sources":["../../../src/internal/worker.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}