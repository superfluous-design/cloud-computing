{"version":3,"file":"worker.js","names":["Worker","WorkerError","Deferred","Effect","Exit","Layer","Scope","platformWorkerImpl","makePlatform","setup","scope","worker","flatMap","make","closeDeferred","addEventListener","unsafeDone","void","as","addFinalizer","suspend","postMessage","await","pipe","interruptible","timeout","catchAllCause","sync","terminate","listen","deferred","emit","port","onMessage","event","data","onError","reason","cause","error","message","removeEventListener","layerWorker","succeed","PlatformWorker","layerManager","provide","layer","spawn","merge","layerSpawner","layerPlatform"],"sources":["../../../src/internal/worker.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}