{"version":3,"file":"Ndjson.js","names":["Channel","Chunk","Effect","dual","identity","ChannelSchema","TypeIdError","ErrorTypeId","Symbol","for","encoder","TextEncoder","NdjsonError","message","reason","packString","loop","readWithCause","onInput","input","zipRight","flatMap","try","of","toReadonlyArray","map","_","JSON","stringify","join","catch","cause","write","onFailure","failCause","onDone","succeed","pack","mapOut","encode","packSchema","schema","pipeTo","packSchemaString","filterEmpty","filter","line","length","filterEmptyChannel","filtered","isEmpty","void","done","unpackString","options","lines","splitLines","pipe","ignoreEmptyLines","mapOutEffect","chunk","parse","decodeString","decoder","TextDecoder","decode","unpack","unpackSchema","decodeUnknown","unpackSchemaString","duplex","args","isChannel","self","duplexString","duplexSchema","duplexUnknown","duplexSchemaString"],"sources":["../../src/Ndjson.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}