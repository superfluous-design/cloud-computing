{"version":3,"file":"platformConfigProvider.js","names":["ConfigProvider","_interopRequireWildcard","require","Context","DefaultServices","Effect","FiberRef","Layer","FileSystem","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","fromDotEnv","path","config","gen","fs","content","readFileString","obj","parseDotEnv","fromMap","Map","entries","assign","pathDelim","seqDelim","exports","layerDotEnv","pipe","map","setConfigProvider","unwrapEffect","layerDotEnvAdd","dotEnvConfigProvider","orElseSucceed","logDebug","empty","currentConfigProvider","currentServices","services","configProvider","orElse","DOT_ENV_LINE","lines","replace","match","exec","key","value","trim","maybeQuote","expand","parsed","newParsed","configKey","interpolate","envValue","lastUnescapedDollarSignIndex","searchLast","rightMostGroup","slice","matchGroup","_","group","variableName","defaultValue","str","rgx","matches","Array","from","matchAll","length","index"],"sources":["../../../src/internal/platformConfigProvider.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}