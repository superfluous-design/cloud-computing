{"version":3,"file":"command.js","names":["Chunk","_interopRequireWildcard","require","Effect","_Function","HashMap","Inspectable","Option","_Pipeable","Stream","commandExecutor","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","CommandTypeId","exports","Symbol","for","isCommand","u","env","dual","self","environment","_tag","makeStandard","union","fromIterable","entries","filter","v","undefined","pipeTo","left","right","exitCode","flatMap","CommandExecutor","executor","feed","input","stdin","fromChunk","of","TextEncoder","encode","flatten","Array","from","flattenLoop","appendAll","runInShell","shell","lines","command","encoding","Proto","pipe","pipeArguments","arguments","BaseProto","StandardProto","toJSON","_id","args","fromEntries","cwd","gid","uid","options","assign","create","PipedProto","makePiped","make","empty","none","stdout","stderr","into","output","start","stream","streamLines","string","workingDirectory","some"],"sources":["../../../src/internal/command.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}