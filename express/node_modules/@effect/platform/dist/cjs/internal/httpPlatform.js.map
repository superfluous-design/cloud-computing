{"version":3,"file":"httpPlatform.js","names":["Context","_interopRequireWildcard","require","Effect","_Function","Layer","Stream","Etag","FileSystem","Headers","serverResponse","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","tag","GenericTag","make","impl","gen","fs","etagGen","Generator","of","fileResponse","path","options","pipe","bindTo","stat","bind","info","fromFileInfo","map","etag","start","Number","offset","end","bytesToRead","undefined","headers","fromInput","empty","toString","mtime","_tag","value","toUTCString","contentLength","size","status","statusText","fileWebResponse","file","fromFileWeb","merge","unsafeFromRecord","Date","lastModified","layer","effect","flatMap","stream","_options","fromReadableStream","identity","provide","layerWeak"],"sources":["../../../src/internal/httpPlatform.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}