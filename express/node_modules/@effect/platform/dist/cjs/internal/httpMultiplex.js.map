{"version":3,"file":"httpMultiplex.js","names":["Arr","_interopRequireWildcard","require","Effect","Effectable","_Function","Inspectable","Error","ServerRequest","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","MultiplexImpl","Class","apps","constructor","execute","request","fail","RouteNotFound","length","predicate","app","previous","flatMap","match","HttpServerRequest","commit","NodeInspectSymbol","toJSON","toString","format","_id","empty","make","fromIterable","add","dual","self","headerExact","header","value","req","headers","undefined","succeed","headerRegex","regex","test","headerStartsWith","prefix","startsWith","headerEndsWith","suffix","endsWith","hostRegex","hostStartsWith","hostEndsWith","hostExact","host"],"sources":["../../../src/internal/httpMultiplex.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}