{"version":3,"file":"Ndjson.js","names":["Channel","_interopRequireWildcard","require","Chunk","Effect","_Function","ChannelSchema","_Error","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","ErrorTypeId","exports","Symbol","for","encoder","TextEncoder","NdjsonError","TypeIdError","message","reason","packString","loop","readWithCause","onInput","input","zipRight","flatMap","try","of","toReadonlyArray","map","_","JSON","stringify","join","catch","cause","write","onFailure","failCause","onDone","succeed","pack","mapOut","encode","packSchema","schema","pipeTo","packSchemaString","filterEmpty","filter","line","length","filterEmptyChannel","filtered","isEmpty","void","done","unpackString","options","lines","splitLines","pipe","ignoreEmptyLines","identity","mapOutEffect","chunk","parse","decodeString","decoder","TextDecoder","decode","unpack","unpackSchema","decodeUnknown","unpackSchemaString","duplex","dual","args","isChannel","self","duplexString","duplexSchema","duplexUnknown","duplexSchemaString"],"sources":["../../src/Ndjson.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}