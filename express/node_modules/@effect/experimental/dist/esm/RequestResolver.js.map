{"version":3,"file":"RequestResolver.js","names":["Arr","Deferred","Effect","Either","FiberHandle","dual","pipe","Option","Request","RequestResolver","Persistence","dataLoader","self","options","gen","scope","handle","make","maxSize","maxBatchSize","Infinity","batch","empty","process","items","forEach","deferred","request","withRequestCaching","exit","flatMap","done","batching","discard","loop","suspend","length","void","sleep","window","forkIn","zipRight","interruptible","runLoop","run","onlyIfMissing","runLoopReset","splice","uninterruptible","fromEffect","item","push","await","onInterrupt","sync","index","indexOf","persisted","storage","ResultPersistence","storeId","timeToLive","partition","requests","getMany","map","partitionMap","_","i","match","onNone","left","onSome","right","orElseSucceed","set","result","ignoreLogged","makeBatched","remaining","results","completeCached","complete","completeUncached"],"sources":["../../src/RequestResolver.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}