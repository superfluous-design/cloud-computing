{"version":3,"file":"Client.js","names":["Ndjson","_interopRequireWildcard","require","Socket","Cause","Context","Deferred","Effect","Exit","_Function","Layer","Mailbox","Metric","MetricState","Schedule","Stream","Tracer","Domain","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Client","exports","GenericTag","make","gen","socket","requests","metricsSnapshot","snapshot","unsafeSnapshot","metrics","len","length","metricPair","isCounterState","metricState","push","_tag","name","metricKey","description","tags","state","isGaugeState","isHistogramState","isSummaryState","isFrequencyState","occurrences","fromEntries","entries","connected","toStream","pipe","pipeThroughChannel","duplexSchemaString","toChannelString","inputSchema","Request","outputSchema","Response","runForEach","req","unsafeDone","void","offer","tapErrorCause","logDebug","retry","spaced","forkScoped","uninterruptible","addFinalizer","zipRight","fiberIdWith","id","failCause","interrupt","delay","forever","interruptible","await","timeoutOption","of","unsafeAddSpan","request","unsafeOffer","annotateLogs","package","module","service","layer","scoped","makeTracer","client","currentTracer","tracer","span","parent","context","links","startTime","kind","oldEvent","event","attributes","traceId","spanId","oldEnd","end","apply","arguments","layerTracer","map","setTracer","unwrapEffect","provide"],"sources":["../../../src/DevTools/Client.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}