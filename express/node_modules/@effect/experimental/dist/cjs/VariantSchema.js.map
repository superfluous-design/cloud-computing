{"version":3,"file":"VariantSchema.js","names":["_Function","require","Option","_interopRequireWildcard","ParseResult","_Pipeable","Predicate","Schema","Struct_","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","cacheSymbol","isStruct","u","hasProperty","FieldTypeId","isField","extract","dual","args","self","variant","options","cache","cacheKey","isDefault","undefined","fields","key","keys","value","isSchema","schemas","Struct","make","Class","identifier","annotations","variantStruct","schema","defaultVariant","Base","variants","title","FieldOnly","obj","Field","FieldExcept","includes","UnionVariants","members","Union","fieldEvolve","field","fromEntries","map","evolve","fieldFromKey","mapping","entries","renameFieldValue","extractVariants","Override","Overrideable","from","to","transformOrFail","Undefined","decode","_","succeed","encode","dt","generate","none","some","pipe","propertySignature","withConstructorDefault","constructorDefault","constUndefined","StructProto","pipeArguments","arguments","create","FieldProto","VariantUnion","filter","member","isPropertySignature","fromKey"],"sources":["../../src/VariantSchema.ts"],"sourcesContent":[null],"mappings":";;;;;;AAKA,IAAAA,SAAA,GAAAC,OAAA;AACA,IAAAC,MAAA,GAAAC,uBAAA,CAAAF,OAAA;AACA,IAAAG,WAAA,GAAAD,uBAAA,CAAAF,OAAA;AACA,IAAAI,SAAA,GAAAJ,OAAA;AACA,IAAAK,SAAA,GAAAH,uBAAA,CAAAF,OAAA;AACA,IAAAM,MAAA,GAAAJ,uBAAA,CAAAF,OAAA;AAEA,IAAAO,OAAA,GAAAL,uBAAA,CAAAF,OAAA;AAAwC,SAAAE,wBAAAM,CAAA,EAAAC,CAAA,6BAAAC,OAAA,MAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAR,uBAAA,YAAAA,CAAAM,CAAA,EAAAC,CAAA,SAAAA,CAAA,IAAAD,CAAA,IAAAA,CAAA,CAAAK,UAAA,SAAAL,CAAA,MAAAM,CAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAC,SAAA,QAAAC,OAAA,EAAAV,CAAA,iBAAAA,CAAA,uBAAAA,CAAA,yBAAAA,CAAA,SAAAQ,CAAA,MAAAF,CAAA,GAAAL,CAAA,GAAAG,CAAA,GAAAD,CAAA,QAAAG,CAAA,CAAAK,GAAA,CAAAX,CAAA,UAAAM,CAAA,CAAAM,GAAA,CAAAZ,CAAA,GAAAM,CAAA,CAAAO,GAAA,CAAAb,CAAA,EAAAQ,CAAA,gBAAAP,CAAA,IAAAD,CAAA,gBAAAC,CAAA,OAAAa,cAAA,CAAAC,IAAA,CAAAf,CAAA,EAAAC,CAAA,OAAAM,CAAA,IAAAD,CAAA,GAAAU,MAAA,CAAAC,cAAA,KAAAD,MAAA,CAAAE,wBAAA,CAAAlB,CAAA,EAAAC,CAAA,OAAAM,CAAA,CAAAK,GAAA,IAAAL,CAAA,CAAAM,GAAA,IAAAP,CAAA,CAAAE,CAAA,EAAAP,CAAA,EAAAM,CAAA,IAAAC,CAAA,CAAAP,CAAA,IAAAD,CAAA,CAAAC,CAAA,WAAAO,CAAA,KAAAR,CAAA,EAAAC,CAAA;AAExC;;;;AAIO,MAAMkB,MAAM,GAAAC,OAAA,CAAAD,MAAA,gBAAkBE,MAAM,CAACC,GAAG,CAAC,oCAAoC,CAAC;AAQrF,MAAMC,WAAW,gBAAGF,MAAM,CAACC,GAAG,CAAC,0CAA0C,CAAC;AAY1E;;;;AAIO,MAAME,QAAQ,GAAIC,CAAU,IAAuB5B,SAAS,CAAC6B,WAAW,CAACD,CAAC,EAAEN,MAAM,CAAC;AAqC1F;;;;AAAAC,OAAA,CAAAI,QAAA,GAAAA,QAAA;AAIO,MAAMG,WAAW,GAAAP,OAAA,CAAAO,WAAA,gBAAkBN,MAAM,CAACC,GAAG,CAClD,0CAA0C,CAC3C;AAiBD;;;;AAIO,MAAMM,OAAO,GAAIH,CAAU,IAAsB5B,SAAS,CAAC6B,WAAW,CAACD,CAAC,EAAEE,WAAW,CAAC;AAAAP,OAAA,CAAAQ,OAAA,GAAAA,OAAA;AA8E7F,MAAMC,OAAO,gBAUT,IAAAC,cAAI,EACLC,IAAI,IAAKP,QAAQ,CAACO,IAAI,CAAC,CAAC,CAAC,CAAC,EAC3B,CACEC,IAAO,EACPC,OAAU,EACVC,OAEC,KACgB;EACjB,MAAMC,KAAK,GAAGH,IAAI,CAACT,WAAW,CAAC,KAAKS,IAAI,CAACT,WAAW,CAAC,GAAG,EAAE,CAAC;EAC3D,MAAMa,QAAQ,GAAGF,OAAO,EAAEG,SAAS,KAAK,IAAI,GAAG,WAAW,GAAGJ,OAAO;EACpE,IAAIE,KAAK,CAACC,QAAQ,CAAC,KAAKE,SAAS,EAAE;IACjC,OAAOH,KAAK,CAACC,QAAQ,CAAQ;EAC/B;EACA,MAAMG,MAAM,GAAwB,EAAE;EACtC,KAAK,MAAMC,GAAG,IAAIxB,MAAM,CAACyB,IAAI,CAACT,IAAI,CAACb,MAAM,CAAC,CAAC,EAAE;IAC3C,MAAMuB,KAAK,GAAGV,IAAI,CAACb,MAAM,CAAC,CAACqB,GAAG,CAAC;IAC/B,IAAIrB,MAAM,IAAIuB,KAAK,EAAE;MACnB,IAAIR,OAAO,EAAEG,SAAS,KAAK,IAAI,IAAIvC,MAAM,CAAC6C,QAAQ,CAACD,KAAK,CAAC,EAAE;QACzDH,MAAM,CAACC,GAAG,CAAC,GAAGE,KAAK;MACrB,CAAC,MAAM;QACLH,MAAM,CAACC,GAAG,CAAC,GAAGX,OAAO,CAACa,KAAK,EAAET,OAAO,CAAC;MACvC;IACF,CAAC,MAAM,IAAIN,WAAW,IAAIe,KAAK,EAAE;MAC/B,IAAIT,OAAO,IAAIS,KAAK,CAACE,OAAO,EAAE;QAC5BL,MAAM,CAACC,GAAG,CAAC,GAAGE,KAAK,CAACE,OAAO,CAACX,OAAO,CAAC;MACtC;IACF,CAAC,MAAM;MACLM,MAAM,CAACC,GAAG,CAAC,GAAGE,KAAK;IACrB;EACF;EACA,OAAOP,KAAK,CAACC,QAAQ,CAAC,GAAGtC,MAAM,CAAC+C,MAAM,CAACN,MAAM,CAAQ;AACvD,CAAC,CACF;AAED;;;;AAIO,MAAMA,MAAM,GAA2BP,IAAO,IAAgBA,IAAI,CAACb,MAAM,CAAC;AA8HjF;;;;AAAAC,OAAA,CAAAmB,MAAA,GAAAA,MAAA;AAIO,MAAMO,IAAI,GAGfZ,OAGD,IA4HG;EACF,SAASa,KAAKA,CAAOC,UAAkB;IACrC,OAAO,UACLT,MAAqB,EACrBU,WAA6C;MAE7C,MAAMC,aAAa,GAAGL,MAAM,CAACN,MAAM,CAAC;MACpC,MAAMY,MAAM,GAAGtB,OAAO,CAACqB,aAAa,EAAEhB,OAAO,CAACkB,cAAc,EAAE;QAC5Df,SAAS,EAAE;OACZ,CAAC;MACF,MAAMgB,IAAK,SAAQvD,MAAM,CAACiD,KAAK,CAAMC,UAAU,CAAC,CAACG,MAAM,CAACZ,MAAM,EAAEU,WAAW,CAAC;QAC1E,QAAQ9B,MAAM,IAAIoB,MAAM;;MAE1B,KAAK,MAAMN,OAAO,IAAIC,OAAO,CAACoB,QAAQ,EAAE;QACtCtC,MAAM,CAACC,cAAc,CAACoC,IAAI,EAAEpB,OAAO,EAAE;UACnCS,KAAK,EAAEb,OAAO,CAACqB,aAAa,EAAEjB,OAAO,CAAC,CAACgB,WAAW,CAAC;YACjDD,UAAU,EAAE,GAAGA,UAAU,IAAIf,OAAO,EAAE;YACtCsB,KAAK,EAAE,GAAGP,UAAU,IAAIf,OAAO;WAChC;SACF,CAAC;MACJ;MACA,OAAOoB,IAAI;IACb,CAAC;EACH;EACA,SAASG,SAASA,CAAwB,GAAGf,IAAU;IACrD,OAAO,UAAqEU,MAAS;MACnF,MAAMM,GAAG,GAAsB,EAAE;MACjC,KAAK,MAAMjB,GAAG,IAAIC,IAAI,EAAE;QACtBgB,GAAG,CAACjB,GAAG,CAAC,GAAGW,MAAM;MACnB;MACA,OAAOO,KAAK,CAACD,GAAG,CAAC;IACnB,CAAC;EACH;EACA,SAASE,WAAWA,CAAwB,GAAGlB,IAAU;IACvD,OAAO,UAAqEU,MAAS;MACnF,MAAMM,GAAG,GAAsB,EAAE;MACjC,KAAK,MAAMxB,OAAO,IAAIC,OAAO,CAACoB,QAAQ,EAAE;QACtC,IAAI,CAACb,IAAI,CAACmB,QAAQ,CAAC3B,OAAO,CAAC,EAAE;UAC3BwB,GAAG,CAACxB,OAAO,CAAC,GAAGkB,MAAM;QACvB;MACF;MACA,OAAOO,KAAK,CAACD,GAAG,CAAC;IACnB,CAAC;EACH;EACA,SAASI,aAAaA,CAAC,GAAGC,OAAmC;IAC3D,OAAOC,KAAK,CAACD,OAAO,EAAE5B,OAAO,CAACoB,QAAQ,CAAC;EACzC;EACA,MAAMU,WAAW,GAAG,IAAAlC,cAAI,EACtB,CAAC,EACD,CACEE,IAAmE,EACnExB,CAA6D,KAC/C;IACd,MAAMyD,KAAK,GAAGrC,OAAO,CAACI,IAAI,CAAC,GAAGA,IAAI,GAAG0B,KAAK,CAAC1C,MAAM,CAACkD,WAAW,CAC3DhC,OAAO,CAACoB,QAAQ,CAACa,GAAG,CAAElC,OAAO,IAAK,CAACA,OAAO,EAAED,IAAI,CAAC,CAAC,CACnD,CAAC;IACF,OAAO0B,KAAK,CAAC3D,OAAO,CAACqE,MAAM,CAACH,KAAK,CAACrB,OAAO,EAAEpC,CAAC,CAAC,CAAC;EAChD,CAAC,CACF;EACD,MAAM6D,YAAY,GAAG,IAAAvC,cAAI,EACvB,CAAC,EACD,CACEE,IAKgC,EAChCsC,OAA+B,KACjB;IACd,MAAMb,GAAG,GAAwB,EAAE;IACnC,IAAI7B,OAAO,CAACI,IAAI,CAAC,EAAE;MACjB,KAAK,MAAM,CAACQ,GAAG,EAAEW,MAAM,CAAC,IAAInC,MAAM,CAACuD,OAAO,CAACvC,IAAI,CAACY,OAAO,CAAC,EAAE;QACxDa,GAAG,CAACjB,GAAG,CAAC,GAAG8B,OAAO,CAAC9B,GAAG,CAAC,KAAKF,SAAS,GAAGkC,gBAAgB,CAACrB,MAAa,EAAEmB,OAAO,CAAC9B,GAAG,CAAC,CAAC,GAAGW,MAAM;MAChG;IACF,CAAC,MAAM;MACL,KAAK,MAAMX,GAAG,IAAIN,OAAO,CAACoB,QAAQ,EAAE;QAClCG,GAAG,CAACjB,GAAG,CAAC,GAAG8B,OAAO,CAAC9B,GAAG,CAAC,KAAKF,SAAS,GAAGkC,gBAAgB,CAACxC,IAAW,EAAEsC,OAAO,CAAC9B,GAAG,CAAC,CAAC,GAAGR,IAAI;MAC5F;IACF;IACA,OAAO0B,KAAK,CAACD,GAAG,CAAC;EACnB,CAAC,CACF;EACD,MAAMgB,eAAe,GAAG,IAAA3C,cAAI,EAC1B,CAAC,EACD,CAACE,IAAiB,EAAEC,OAAe,KACjCJ,OAAO,CAACG,IAAI,EAAEC,OAAO,EAAE;IACrBI,SAAS,EAAEJ,OAAO,KAAKC,OAAO,CAACkB;GAChC,CAAC,CACL;EACD,OAAO;IACLP,MAAM;IACNa,KAAK;IACLF,SAAS;IACTG,WAAW;IACXZ,KAAK;IACLgB,KAAK,EAAEF,aAAa;IACpBG,WAAW;IACXK,YAAY;IACZxC,OAAO,EAAE4C;GACH;AACV,CAAC;AAED;;;;AAAArD,OAAA,CAAA0B,IAAA,GAAAA,IAAA;AAIO,MAAM4B,QAAQ,GAAOhC,KAAQ,IAA4BA,KAAY;AAU5E;;;;AAAAtB,OAAA,CAAAsD,QAAA,GAAAA,QAAA;AAIO,MAAMC,YAAY,GAAGA,CAC1BC,IAAuC,EACvCC,EAA0B,EAC1B3C,OAIC,KAEDpC,MAAM,CAACgF,eAAe,CACpBF,IAAI,EACJ9E,MAAM,CAACiE,KAAK,CAACjE,MAAM,CAACiF,SAAS,EAAEF,EAAsD,CAAC,EACtF;EACEG,MAAM,EAAGC,CAAC,IAAK/C,OAAO,CAAC8C,MAAM,GAAGrF,WAAW,CAACqF,MAAM,CAAC9C,OAAO,CAAC8C,MAAM,CAAC,CAACC,CAAC,CAAC,GAAGtF,WAAW,CAACuF,OAAO,CAAC5C,SAAS,CAAC;EACtG6C,MAAM,EAAGC,EAAE,IAAKlD,OAAO,CAACmD,QAAQ,CAACD,EAAE,KAAK9C,SAAS,GAAG7C,MAAM,CAAC6F,IAAI,EAAE,GAAG7F,MAAM,CAAC8F,IAAI,CAACH,EAAE,CAAC;CACpF,CACF,CAACI,IAAI,CAAC1F,MAAM,CAAC2F,iBAAiB,EAAE3F,MAAM,CAAC4F,sBAAsB,CAACxD,OAAO,CAACyD,kBAAkB,IAAIC,wBAAqB,CAAC,CAAC;AAAAxE,OAAA,CAAAuD,YAAA,GAAAA,YAAA;AAEtH,MAAMkB,WAAW,GAAG;EAClBL,IAAIA,CAAA;IACF,OAAO,IAAAM,uBAAa,EAAC,IAAI,EAAEC,SAAS,CAAC;EACvC;CACD;AAED,MAAMlD,MAAM,GAAkCN,MAAS,IAAe;EACpE,MAAMP,IAAI,GAAGhB,MAAM,CAACgF,MAAM,CAACH,WAAW,CAAC;EACvC7D,IAAI,CAACb,MAAM,CAAC,GAAGoB,MAAM;EACrB,OAAOP,IAAI;AACb,CAAC;AAED,MAAMiE,UAAU,GAAG;EACjB,CAACtE,WAAW,GAAGA,WAAW;EAC1B6D,IAAIA,CAAA;IACF,OAAO,IAAAM,uBAAa,EAAC,IAAI,EAAEC,SAAS,CAAC;EACvC;CACD;AAED,MAAMrC,KAAK,GAAkCd,OAAU,IAAc;EACnE,MAAMZ,IAAI,GAAGhB,MAAM,CAACgF,MAAM,CAACC,UAAU,CAAC;EACtCjE,IAAI,CAACY,OAAO,GAAGA,OAAO;EACtB,OAAOZ,IAAI;AACb,CAAC;AAED,MAAM+B,KAAK,GAAGA,CACZD,OAAgB,EAChBR,QAAkB,KAChB;EACF,MAAM4C,YAAa,SAASpG,MAAM,CAACiE,KAAK,CAAC,GAAGD,OAAO,CAACqC,MAAM,CAAEC,MAAM,IAAKtG,MAAM,CAAC6C,QAAQ,CAACyD,MAAM,CAAC,CAAC,CAAS;EACxG,KAAK,MAAMnE,OAAO,IAAIqB,QAAQ,EAAE;IAC9BtC,MAAM,CAACC,cAAc,CAACiF,YAAY,EAAEjE,OAAO,EAAE;MAC3CS,KAAK,EAAE5C,MAAM,CAACiE,KAAK,CAAC,GAAGD,OAAO,CAACK,GAAG,CAAEiC,MAAM,IAAKvE,OAAO,CAACuE,MAAM,EAAEnE,OAAO,CAAC,CAAC;KACzE,CAAC;EACJ;EACA,OAAOiE,YAAY;AACrB,CAAC;AAED,MAAM1B,gBAAgB,GAAGA,CACvBxC,IAAO,EACPQ,GAAW,KAEX1C,MAAM,CAACuG,mBAAmB,CAACrE,IAAI,CAAC,GAC5BlC,MAAM,CAACwG,OAAO,CAACtE,IAAI,EAAEQ,GAAG,CAAC,GACzB1C,MAAM,CAACwG,OAAO,CAACxG,MAAM,CAAC2F,iBAAiB,CAACzD,IAAI,CAAC,EAAEQ,GAAG,CAAC","ignoreList":[]}