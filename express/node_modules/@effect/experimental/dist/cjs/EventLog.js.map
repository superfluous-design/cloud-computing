{"version":3,"file":"EventLog.js","names":["Chunk","_interopRequireWildcard","require","Context","Effect","FiberMap","FiberRef","_Function","Layer","_Pipeable","Predicate","Queue","Schema","_EventJournal","Reactivity","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","SchemaTypeId","exports","Symbol","for","isEventLogSchema","u","hasProperty","schema","groups","EventLog","HandlersTypeId","handlersProto","_Endpoints","identity","handle","tag","handler","makeHandlers","group","context","handlers","event","events","pipe","pipeArguments","arguments","options","assign","create","gen","result","isEffect","registry","Registry","add","scopedDiscard","provide","layer","groupCompaction","effect","log","registerCompaction","keys","fnUntraced","entries","write","writePayload","timestamp","payload","entry","Entry","id","makeEntryId","msecs","encode","payloadMsgPack","locally","currentContext","orDie","primaryKey","disableValidation","byPrimaryKey","Map","decodeUnknown","record","push","taggedPayloads","_tag","createdAtMillis","groupReactivity","Array","isArray","registerReactivity","obj","Tag","sync","items","Identity","make","journal","EventJournal","remotes","compactors","journalSemaphore","makeSemaphore","reactivity","reactivityKeys","runRemote","remote","startSequence","nextRemoteSequence","changes","takeAll","flatMap","writeFromRemote","remoteId","toReadonlyArray","compact","size","remoteEntries","unprocessed","brackets","uncompacted","uncompactedRemote","length","remoteEntry","compactor","compacted","currentEntries","j","nextRemoteEntry","map","_","undefined","conflicts","logDebug","decodePayload","decode","decodedConflicts","key","unsafeInvalidate","catchAllCause","annotateLogs","service","entryId","idString","withPermits","forever","fork","withRemoteUncommited","addFinalizer","ignore","takeBetween","Number","MAX_SAFE_INTEGER","zipRight","sleep","scoped","provideService","interruptible","of","die","tap","mapInputContext","merge","registerRemote","acquireRelease","run","remove","Set","delete","destroy","layerEventLog","_schema","makeClient"],"sources":["../../src/EventLog.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}