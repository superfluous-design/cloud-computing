{"version":3,"file":"Reactivity.js","names":["Context","_interopRequireWildcard","require","Effect","Exit","FiberHandle","Hash","Layer","Mailbox","Scope","Stream","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","Reactivity","Tag","exports","make","sync","handlers","Map","unsafeInvalidate","keys","Array","isArray","length","stringOrHash","undefined","run","record","key","hashes","idHashes","invalidate","mutation","effect","ensuring","query","gen","resolvedKeys","map","recordHashes","scope","results","runFork","makeRuntime","running","pending","handleExit","exit","_tag","unsafeDone","failCause","cause","unsafeOffer","value","addObserver","addFinalizer","delete","size","Set","add","stream","tables","pipe","toStream","unwrapScoped","of","layer","scoped","u","hash","keyHash","ids","push","idHash"],"sources":["../../src/Reactivity.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}