{"version":3,"file":"RequestResolver.js","names":["Arr","_interopRequireWildcard","require","Deferred","Effect","Either","FiberHandle","_Function","Option","Request","RequestResolver","Persistence","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","dataLoader","exports","dual","self","options","gen","scope","handle","make","maxSize","maxBatchSize","Infinity","batch","empty","process","items","forEach","deferred","request","pipe","withRequestCaching","exit","flatMap","done","batching","discard","loop","suspend","length","void","sleep","window","forkIn","zipRight","interruptible","runLoop","run","onlyIfMissing","runLoopReset","splice","uninterruptible","fromEffect","item","push","await","onInterrupt","sync","index","indexOf","persisted","storage","ResultPersistence","storeId","timeToLive","partition","requests","getMany","map","partitionMap","_","match","onNone","left","onSome","right","orElseSucceed","result","ignoreLogged","makeBatched","remaining","results","completeCached","complete","completeUncached"],"sources":["../../src/RequestResolver.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}