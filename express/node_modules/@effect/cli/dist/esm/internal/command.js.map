{"version":3,"file":"command.js","names":["Arr","Context","Effect","Effectable","dual","identity","globalValue","pipeArguments","ValidationError","InternalArgs","InternalCliApp","InternalDescriptor","InternalOptions","CommandSymbolKey","TypeId","Symbol","for","parseConfig","config","args","argsIndex","options","optionsIndex","parse","tree","key","parseValue","value","isArray","_tag","children","map","isArgs","push","index","isOptions","reconstructConfigTree","output","nodeValue","node","Prototype","CommitPrototype","commit","tag","pipe","arguments","registeredDescriptors","WeakMap","getDescriptor","self","get","descriptor","makeProto","handler","transform","Object","create","makeDerive","command","effect","opts","fromDescriptor","isCommand","_","failSync","helpRequested","GenericTag","fromIterable","getNames","join","makeDescriptor","name","make","all","getHelp","getBashCompletions","programName","getFishCompletions","getZshCompletions","getSubcommands","getUsage","mapDescriptor","f","prompt","withHandler","transformHandler","provide","layer","provideEffect","effect_","provideServiceEffect","provideEffectDiscard","zipRight","provideSync","service","provideService","withDescription","help","withSubcommands","subcommands","subcommandMap","reduce","Map","handlers","subcommand","set","subcommandEffect","wizard","prefix","run","app"],"sources":["../../../src/internal/command.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}