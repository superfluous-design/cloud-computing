{"version":3,"file":"select.js","names":["Terminal","_interopRequireWildcard","require","Ansi","Doc","Optimize","Arr","Effect","InternalPrompt","_action","InternalAnsiUtils","_utils","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","renderBeep","render","beep","style","NEWLINE_REGEX","renderOutput","leadingSymbol","trailingSymbol","options","annotateLine","line","annotate","text","bold","prefix","cat","space","match","message","split","onEmpty","hsep","onNonEmpty","promptLines","lines","map","pipe","nest","vsep","renderChoicePrefix","state","choices","toDisplay","currentIndex","figures","startIndex","arrowUp","endIndex","length","arrowDown","disabled","annotation","combine","blackBright","pointer","cyanBright","renderChoiceTitle","choice","isSelected","title","underlined","strikethrough","renderChoiceDescription","description","char","empty","renderChoices","entriesToDisplay","maxPerPage","documents","index","push","renderNextFrame","gen","terminal","columns","pointerSmall","promptMsg","cursorHide","hardLine","lineWidth","renderSubmission","selected","tick","green","ellipsis","white","processCursorUp","succeed","Action","NextFrame","processCursorDown","processNext","handleRender","action","$match","Beep","Submit","handleClear","clearPrompt","eraseLine","cursorLeft","repeat","Math","min","clearOutput","eraseText","optimize","Deep","handleProcess","input","key","name","value","select","opts","custom","process","clear","exports"],"sources":["../../../../src/internal/prompt/select.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}