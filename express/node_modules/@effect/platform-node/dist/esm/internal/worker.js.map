{"version":3,"file":"worker.js","names":["Worker","WorkerError","Deferred","Effect","Exit","Layer","Scope","platformWorkerImpl","makePlatform","setup","scope","worker","flatMap","make","exitDeferred","thing","postMessage","msg","t","kill","terminate","_","send","on","unsafeDone","void","as","addFinalizer","suspend","await","pipe","interruptible","timeout","catchAllCause","sync","listen","deferred","emit","port","message","cause","reason","code","Error","layerWorker","succeed","PlatformWorker","layerManager","provide","layer","spawn","merge","layerSpawner","layerPlatform"],"sources":["../../../src/internal/worker.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}