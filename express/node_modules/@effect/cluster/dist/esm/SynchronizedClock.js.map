{"version":3,"file":"SynchronizedClock.js","names":["Clock","Duration","Effect","Layer","Schedule","ShardManagerClient","make","fnUntraced","getRemoteTime","clock","driftMillis","driftNanos","BigInt","pipe","timed","map","duration","shardManagerTime","halfTrip","unsafeDivide","toMillis","selfTime","unsafeCurrentTimeMillis","replicateEffect","flatMap","drifts","sort","drift","Math","round","logDebug","andThen","sleep","minutes","forever","sandbox","retry","spaced","annotateLogs","package","service","forkScoped","unsafeCurrentTimeNanos","of","ClockTypeId","currentTimeMillis","sync","currentTimeNanos","layer","unwrapScoped","gen","shardManager","getTime","setClock"],"sources":["../../src/SynchronizedClock.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}