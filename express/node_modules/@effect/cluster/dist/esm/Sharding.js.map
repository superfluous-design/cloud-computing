{"version":3,"file":"Sharding.js","names":["RpcClient","RequestId","Arr","Cause","Context","Deferred","Effect","Equal","Exit","Fiber","FiberHandle","FiberMap","FiberRef","constant","HashMap","Iterable","Layer","MutableHashMap","MutableRef","Option","Predicate","PubSub","Schedule","Scope","Stream","AlreadyProcessingMessage","EntityNotAssignedToRunner","EntityNotManagedByRunner","RunnerUnavailable","Persisted","EntityAddress","EntityId","Envelope","EntityManager","EntityReaper","hashString","internalInterruptors","ResourceMap","Message","MessageStorage","Reply","Runners","ShardId","ShardingConfig","EntityRegistered","SingletonRegistered","ShardManagerClient","ShardStorage","SingletonAddress","Snowflake","Sharding","Tag","make","gen","config","runners","shardManager","snowflakeGen","Generator","shardingScope","scope","isShutdown","storage","storageEnabled","noop","shardStorage","entityManagers","Map","shardAssignments","empty","selfShards","Set","acquiredShards","activeShardsLatch","makeLatch","events","unbounded","getRegistrationEvents","fromPubSub","isLocalRunner","address","isSome","runnerAddress","equals","value","getShardId","entityId","Math","abs","numberOfShards","isEntityOnLocalShards","has","shardId","selfAddress","addFinalizerExit","ignore","releaseAll","releasingShards","await","delete","add","unacquiredShards","size","forkIn","syncSingletons","releaseShards","close","acquired","acquire","resetShards","length","storageReadLatch","open","sleep","pipe","catchAllCause","cause","logWarning","repeat","spaced","entityMessagePollInterval","annotateLogs","package","module","fiber","runner","interruptible","suspend","refresh","flatMap","includes","andThen","void","retry","times","schedule","logError","clearSelfShards","delay","forever","releaseShardsLock","unsafeMakeSemaphore","withPermits","forEach","values","state","manager","interruptShard","concurrency","discard","release","clear","singletons","singletonFibers","withSingletonLock","registerSingleton","fnUntraced","name","run","map","get","set","dieMessage","context","wrappedRun","locally","currentLogAnnotations","never","scoped","provide","orDie","publish","logDebug","running","unsafeHas","shouldBeRunning","fiberId","remove","openStorageReadLatch","storageReadLock","withStorageReadLock","storageAlreadyProcessed","_message","addFinalizer","sentRequestIds","sentRequestIdSets","message","envelope","requestId","entityType","isProcessingFor","excludeReplies","unsafeClose","take","messages","unprocessedMessages","currentSentRequestIds","send","index","_tag","respond","ReplyWithContext","fromDefect","id","unsafeNext","defect","isProcessing","resumptionState","entityResumptionState","unprocessed","interrupts","error","failureOption","isNone","saveReply","squash","resumeEntityFromStorage","whileLoop","while","step","body","oldest","unsafeHead","ensuring","lastReceivedMessage","resumeEntityFromStorageImpl","getOrThrow","done","messageIds","push","unprocessedMessagesById","sendWithRetry","catchTags","fail","interrupt","MailboxFull","sendRetryInterval","sync","e","effect","entity","sendLocal","simulateRemoteSerialization","notifyLocal","notify","envelopeId","isTransientError","or","is","sendOutgoing","retries","catchIf","maybeRunner","isPersisted","rpc","annotations","runnerIsLocal","die","shardManagerTimeoutFiber","extend","startShardManagerTimeout","shardManagerUnavailableTimeout","onlyIfMissing","stopShardManagerTimeout","machineId","register","setMachineId","mailbox","shardingEvents","startedLatch","eventsFiber","takeAll","event","shard","shards","intoDeferred","forkScoped","syncFiber","syncAssignments","refreshAssignmentsInterval","joinAll","zipRight","exponential","union","assignments","getAssignments","clientRequests","clients","client","makeNoSerialization","protocol","supportsAck","generateRequestId","onFromClient","options","unsafeGet","ClientAddressTag","getCurrentFiber","requests","tag","entry","currentContext","makeClientRespond","write","clientRespondDiscard","OutgoingRequest","makeRequest","payload","headers","traceId","spanId","sampled","lastReceivedReply","none","OutgoingEnvelope","AckChunk","replyId","lastChunkId","isTransientInterrupt","interruptors","some","Interrupt","wrappedClient","method","Object","keys","merge","currentClientAddress","withFiberRuntime","type","makeClient","_reply","reply","clientId","exit","reaper","registerEntity","build","sharding","unregister","activeEntityCount","count","of","layer","layerGenerator","Default","GenericTag","Symbol","for","key"],"sources":["../../src/Sharding.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}