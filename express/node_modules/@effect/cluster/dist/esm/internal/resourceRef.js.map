{"version":3,"file":"resourceRef.js","names":["Effect","Exit","MutableRef","Option","Scope","internalInterruptors","ResourceRef","state","acquire","from","fnUntraced","parentScope","make","_tag","addFinalizerExit","exit","s","get","void","scope","set","close","value","constructor","latch","unsafeMakeLatch","unsafeGet","current","some","none","unsafeRebuild","interrupt","prevScope","runSync","unsafeClose","fiberIdWith","fiberId","add","pipe","andThen","flatMap","open","await","suspend","succeed","zipRight"],"sources":["../../../src/internal/resourceRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}