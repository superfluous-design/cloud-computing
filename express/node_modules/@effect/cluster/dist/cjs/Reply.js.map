{"version":3,"file":"Reply.js","names":["Rpc","_interopRequireWildcard","require","Context","Data","Effect","Exit","FiberRef","_Function","_Predicate","Schema","_ClusterError","_Snowflake","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","isReply","u","hasProperty","ReplyWithContext","TaggedClass","fromDefect","options","reply","WithExit","requestId","id","exit","die","encodeSync","Defect","defect","context","empty","rpc","neverRpc","make","success","Never","error","payload","schemaCache","Reply","schema","Union","Chunk","Encoded","Struct","_tag","Literal","String","Unknown","sequence","Number","values","Array","emptyFrom","Snowflake","BigInt","undefined","schemaFromSelf","declare","successSchema","transform","SnowflakeFromString","NonEmptyArray","decode","encoded","encode","identity","withRequestId","exitSchema","serialize","self","MalformedMessage","refail","locally","currentContext","serializeLastReceived","lastReceivedReply","succeedNone","asSome","value"],"sources":["../../src/Reply.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}