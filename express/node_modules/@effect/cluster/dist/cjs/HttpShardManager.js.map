{"version":3,"file":"HttpShardManager.js","names":["HttpRouter","_interopRequireWildcard","require","HttpServer","RpcServer","Effect","_Function","Layer","_HttpCommon","MessageStorage","RunnerHealth","Runners","ShardManager","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","toHttpApp","exports","gen","handlers","build","layerServerHandlers","Rpcs","pipe","provide","toHttpAppWebsocket","layerNoServerHttp","options","layer","layerRpc","layerClientProtocolHttp","path","runnerPath","https","runnerHttps","layerNoop","layerNoServerWebsocket","layerClientProtocolWebsocket","layerHttpOptions","routerTag","Default","serve","logAddress","withLogAddress","identity","merge","layerServer","layerProtocolHttp","provideMerge","layerWebsocketOptions","layerProtocolWebsocket","effectDiscard","addressFormattedWith","address","annotateLogs","logInfo","package","service","layerHttp","layerWebsocket","layerRunnerHealthHttp","layerRunnerHealthWebsocket"],"sources":["../../src/HttpShardManager.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}