{"version":3,"file":"terminal.js","names":["Error","Terminal","Effect","Layer","Option","readline","defaultShouldQuit","input","key","ctrl","name","make","shouldQuit","gen","sync","globalThis","process","stdin","output","stdout","acquireReadlineInterface","createInterface","escapeCodeTimeout","emitKeypressEvents","rl","isTTY","setRawMode","releaseReadlineInterface","close","handleKeypressEvent","async","resume","handleKeypress","userInput","fromNullable","meta","shift","fail","QuitException","succeed","once","removeListener","handleLineEvent","handleLine","line","on","readInput","acquireUseRelease","pipe","map","readLine","display","prompt","uninterruptible","write","err","BadArgument","module","method","message","String","void","of","columns","layer","scoped"],"sources":["../../../src/internal/terminal.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}