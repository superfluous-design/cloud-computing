{"version":3,"file":"RpcSerialization.js","names":["_MsgPack","require","Context","_interopRequireWildcard","Effect","Layer","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","RpcSerialization","Tag","exports","json","sync","decoder","TextDecoder","of","contentType","unsafeMake","decode","bytes","JSON","parse","encode","response","stringify","ndjson","buffer","position","nlIndex","indexOf","items","item","slice","push","msgPack","unpackr","Msgpackr","Unpackr","packr","Packr","encoder","TextEncoder","unpackMultiple","pack","layerJson","effect","layerNdjson","layerMsgPack","succeed"],"sources":["../../src/RpcSerialization.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}