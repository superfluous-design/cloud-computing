{"version":3,"file":"RpcGroup.js","names":["Context","Effect","Layer","Schema","Stream","Rpc","TypeId","Symbol","for","RpcGroupProto","add","rpcs","makeProto","requests","resolveInput","values","annotations","merge","groups","Map","unsafeMap","group","tag","rpc","set","key","value","unsafeMake","middleware","toHandlersContext","build","gen","context","handlers","isEffect","contextMap","handler","Object","entries","get","toLayer","scopedContext","toLayerHandler","accessHandler","contextWith","parentContext","payload","headers","result","effectOrStream","isFork","provide","provideContext","annotate","annotateRpcs","annotateRpcsContext","make","annotateContext","options","assign","_tag","isSchema","fromTaggedRequest","empty"],"sources":["../../src/RpcGroup.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}