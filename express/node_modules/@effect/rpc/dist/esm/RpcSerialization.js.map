{"version":3,"file":"RpcSerialization.js","names":["Msgpackr","Context","Effect","Layer","RpcSerialization","Tag","json","sync","decoder","TextDecoder","of","contentType","unsafeMake","decode","bytes","JSON","parse","encode","response","stringify","ndjson","buffer","position","nlIndex","indexOf","items","item","slice","push","msgPack","unpackr","Unpackr","packr","Packr","encoder","TextEncoder","unpackMultiple","pack","layerJson","effect","layerNdjson","layerMsgPack","succeed"],"sources":["../../src/RpcSerialization.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}