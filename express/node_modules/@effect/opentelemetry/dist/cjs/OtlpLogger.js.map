{"version":3,"file":"OtlpLogger.js","names":["Arr","_interopRequireWildcard","require","Cause","Context","Duration","Effect","FiberId","FiberRef","FiberRefs","Logger","Option","Tracer","Exporter","OtlpResource","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","make","exports","fnUntraced","options","otelResource","resource","scope","name","serviceName","exporter","label","url","headers","maxBatchSize","exportInterval","seconds","body","data","resourceLogs","scopeLogs","logRecords","shutdownTimeout","push","makeLogRecord","layer","replaceLogger","replaceScoped","addScoped","now","date","getTime","nanosString","attributes","entriesToAttributes","annotations","key","value","stringValue","threadName","fiberId","span","spans","startTime","isEmpty","cause","pretty","renderErrorCause","message","ensure","maybeSpan","getOption","getOrDefault","context","currentContext","ParentSpan","logRecord","severityNumber","logLevelToSeverityNumber","logLevel","severityText","timeUnixNano","observedTimeUnixNano","unknownToAttributeValue","length","droppedAttributesCount","isSome","traceId","spanId","_tag","ESeverityNumber","SEVERITY_NUMBER_TRACE","SEVERITY_NUMBER_DEBUG","SEVERITY_NUMBER_INFO","SEVERITY_NUMBER_WARN","SEVERITY_NUMBER_ERROR","SEVERITY_NUMBER_FATAL","SEVERITY_NUMBER_UNSPECIFIED"],"sources":["../../src/OtlpLogger.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}